# 👤 איך להוסיף משתמש כאדמין

## 🎯 מה זה אדמין?

משתמש אדמין יכול לגשת לדשבורד האדמין ב-`/admin` ולראות:
- סטטיסטיקות על כל המשתמשים, הקבוצות והאירועים
- רשימת כל המשתמשים במערכת
- גרפי שימוש
- הגדרות Telegram

## ✅ איך להוסיף אדמין?

### דרך 1: דרך Firebase Console (הכי קל)

1. עבור ל: **https://console.firebase.google.com**
2. בחר את הפרויקט שלך
3. לחץ על **Firestore Database** בתפריט השמאלי
4. לחץ על **Start collection** (אם אין לך collection בשם `admins`)
5. **Collection ID:** הזן `admins`
6. לחץ **Next**
7. **Document ID:** הזן את ה-**User ID** של המשתמש שאתה רוצה להפוך לאדמין
   - איך למצוא את ה-User ID? ראה למטה
8. **Fields:**
   - **Field name:** `userId`
   - **Type:** string
   - **Value:** אותו User ID שהזנת ב-Document ID
9. לחץ **Save**

### דרך 2: דרך הקוד (דורש גישה לשרת)

אם יש לך גישה לקוד, תוכל להשתמש בפונקציה `addAdmin`:

```typescript
import { addAdmin } from '@/app/lib/admin';

// הוסף אדמין
await addAdmin('USER_ID_HERE');
```

---

## 🔍 איך למצוא את ה-User ID?

### דרך 1: דרך Firebase Console

1. עבור ל: **https://console.firebase.google.com**
2. בחר את הפרויקט שלך
3. לחץ על **Authentication** בתפריט השמאלי
4. לחץ על הטאב **Users**
5. מצא את המשתמש ברשימה
6. לחץ על המשתמש
7. העתק את ה-**User UID** (זה ה-User ID)

### דרך 2: דרך הקוד (בדפדפן)

1. פתח את הקונסול של הדפדפן (F12)
2. הזן:
```javascript
// אם המשתמש מחובר
firebase.auth().currentUser?.uid
```

### דרך 3: דרך Firestore

1. עבור ל-Firestore Database
2. פתח את ה-collection `users`
3. כל מסמך שם הוא User ID של משתמש
4. העתק את ה-ID של המסמך

---

## 📋 דוגמה: הוספת אדמין דרך Firebase Console

```
Firebase Console
├── [שם הפרויקט]
│   └── Firestore Database
│       └── Data (טאב)
│           └── Start collection (אם אין)
│               └── Collection ID: admins
│                   └── Document ID: [USER_ID]
│                       └── Fields:
│                           └── userId: [USER_ID] (string)
```

---

## ✅ איך לבדוק שהמשתמש הוא אדמין?

1. המשתמש צריך להתחבר לאפליקציה
2. בדף הראשי, אם הוא אדמין, יופיע כפתור **"דשבורד אדמין"**
3. או גש ישירות ל: `http://localhost:3000/admin`
4. אם הוא אדמין, הוא יוכל לראות את הדשבורד

---

## ⚠️ הערות חשובות

1. **הרשאות:** רק אדמינים יכולים לקרוא את ה-collection `admins` (לפי ה-Security Rules)
2. **הגנה:** ה-Security Rules מונעות ממשתמשים רגילים לכתוב ל-`admins`
3. **הסרת אדמין:** כדי להסיר אדמין, פשוט מחק את המסמך מה-collection `admins`

---

## 🆘 בעיות נפוצות

### "לא רואה את הכפתור 'דשבורד אדמין'"

**פתרון:**
1. ודא שהוספת את המשתמש ל-`admins` ב-Firestore
2. ודא שהמשתמש התחבר מחדש לאפליקציה
3. בדוק שהמסמך ב-`admins` נקרא בדיוק כמו ה-User ID

### "מקבל שגיאה כשאני נכנס ל-/admin"

**פתרון:**
1. ודא שהמשתמש הוא באמת אדמין (בדוק ב-Firestore)
2. נקה את ה-cache של הדפדפן
3. התחבר מחדש לאפליקציה

---

## 💡 טיפים

- **המשתמש הראשון:** הוסף את עצמך כאדמין הראשון
- **מספר אדמינים:** אתה יכול להוסיף כמה אדמינים שאתה רוצה
- **בדיקה:** תמיד בדוק שהמשתמש רואה את הכפתור "דשבורד אדמין" אחרי ההוספה
