# 🔧 פתרון שגיאת "App domain is unauthorized"

## 🎯 מה הבעיה?

השגיאה `App domain is unauthorized` מתרחשת כאשר הדומיין שבו האפליקציה שלך רצה לא רשום ב-Firebase Console תחת **Authorized domains**.

## ✅ פתרון מהיר

### שלב 1: כניסה ל-Firebase Console

1. עבור ל: **https://console.firebase.google.com**
2. התחבר עם חשבון Google שלך
3. בחר את הפרויקט שלך

### שלב 2: הוספת דומיין מורשה

1. בתפריט השמאלי, לחץ על **Authentication** (אימות)
2. לחץ על הטאב **Settings** (הגדרות)
3. גלול למטה עד שתראה את החלק **Authorized domains** (דומיינים מורשים)

### שלב 3: הוספת הדומיין

**אם אתה רץ על localhost (פיתוח מקומי):**

1. בדוק אם `localhost` כבר ברשימה
2. אם לא, לחץ על **Add domain**
3. הזן: `localhost`
4. לחץ **Add**

**אם אתה רץ על דומיין אחר:**

1. לחץ על **Add domain**
2. הזן את הדומיין המלא (לדוגמה: `myapp.vercel.app` או `myapp.com`)
3. לחץ **Add**

### שלב 4: רענון האפליקציה

1. סגור את האפליקציה בדפדפן
2. פתח אותה מחדש
3. נסה להתחבר שוב

---

## 📋 רשימת דומיינים נפוצים להוספה

### לפיתוח מקומי:
- `localhost`
- `127.0.0.1` (אם אתה משתמש ב-IP)

### לפריסה ב-Vercel:
- `your-app.vercel.app` (הדומיין האוטומטי של Vercel)
- `your-custom-domain.com` (אם יש לך דומיין מותאם)

### לפיתוח עם פורט אחר:
- `localhost:3000` (אם אתה משתמש בפורט 3000)
- `localhost:3001` (אם אתה משתמש בפורט אחר)

**הערה:** Firebase בדרך כלל מאפשר `localhost` כברירת מחדל, אבל לפעמים צריך להוסיף אותו ידנית.

---

## 🔍 איך לבדוק מה הדומיין הנוכחי?

### בדפדפן:
1. פתח את הקונסול של הדפדפן (F12)
2. בדוק את ה-URL בשורת הכתובת
3. העתק את החלק של הדומיין (לפני ה-`/`)

### דוגמאות:
- `http://localhost:3000` → הדומיין הוא `localhost`
- `https://myapp.vercel.app` → הדומיין הוא `myapp.vercel.app`
- `https://www.myapp.com` → הדומיין הוא `www.myapp.com`

---

## ⚠️ בעיות נפוצות ופתרונות

### בעיה 1: "localhost" כבר ברשימה אבל עדיין לא עובד

**פתרון:**
1. ודא שאתה משתמש ב-`http://localhost` ולא ב-`https://localhost`
2. נסה להוסיף גם `127.0.0.1`
3. נקה את ה-cache של הדפדפן (Ctrl+Shift+Delete)

### בעיה 2: הדומיין של Vercel לא עובד

**פתרון:**
1. ודא שהוספת את הדומיין המדויק (לדוגמה: `myapp.vercel.app`)
2. אם יש לך דומיין מותאם, הוסף גם אותו
3. רענן את האפליקציה ב-Vercel (Redeploy)

### בעיה 3: עדיין מקבל שגיאה אחרי הוספת הדומיין

**פתרון:**
1. המתן כמה דקות - לפעמים לוקח זמן עד שהשינויים נכנסים לתוקף
2. נקה את ה-cache של הדפדפן
3. נסה בדפדפן אחר (Chrome, Firefox)
4. בדוק שוב ב-Firebase Console שהדומיין באמת נוסף

---

## 📸 איפה זה נראה ב-Firebase Console?

```
Firebase Console
├── [שם הפרויקט]
│   └── Authentication (בתפריט השמאלי)
│       └── Settings (טאב)
│           └── Authorized domains ← כאן!
│               ├── localhost (ברירת מחדל)
│               ├── your-app.vercel.app (אם הוספת)
│               └── [Add domain] ← לחץ כאן להוספה
```

---

## ✅ Checklist - האם עשית הכל?

- [ ] נכנסתי ל-Firebase Console
- [ ] הלכתי ל-Authentication > Settings
- [ ] מצאתי את החלק "Authorized domains"
- [ ] הוספתי את הדומיין הנוכחי (localhost או דומיין אחר)
- [ ] רעננתי את האפליקציה בדפדפן
- [ ] ניסיתי להתחבר שוב

---

## 🆘 עדיין לא עובד?

### נסה:

1. **המתן 2-3 דקות** - לפעמים לוקח זמן עד שהשינויים נכנסים לתוקף
2. **נקה את ה-cache** - Ctrl+Shift+Delete > בחר "Cached images and files"
3. **נסה בדפדפן אחר** - Chrome, Firefox, Edge
4. **בדוק את הקונסול** - F12 > Console - אולי יש שגיאה אחרת
5. **ודא שהקונפיגורציה נכונה** - בדוק את `.env.local` או משתני הסביבה

### אם עדיין לא עובד:

1. בדוק את הקונסול של הדפדפן (F12) - אולי יש שגיאה אחרת
2. ודא שהקונפיגורציה של Firebase נכונה (ראה [FIREBASE_CONFIG_GUIDE.md](./FIREBASE_CONFIG_GUIDE.md))
3. נסה ליצור אפליקציית Web חדשה ב-Firebase Console

---

## 💡 טיפים

- **localhost בדרך כלל כבר מורשה** - אבל לפעמים צריך להוסיף אותו ידנית
- **דומיינים של Vercel** - תמיד צריך להוסיף אותם ידנית
- **דומיינים מותאמים** - הוסף גם את הגרסה עם `www` וגם בלי (לדוגמה: `myapp.com` ו-`www.myapp.com`)
- **פורטים** - Firebase בדרך כלל לא דורש פורט ב-localhost, אבל אם יש בעיה, נסה להוסיף `localhost:3000`

---

## 📞 תמיכה נוספת

אם עדיין יש בעיה, בדוק:
- [FIREBASE_CONFIG_GUIDE.md](./FIREBASE_CONFIG_GUIDE.md) - מדריך להגדרת Firebase
- [HOW_TO_GET_ENV_VALUES.md](./HOW_TO_GET_ENV_VALUES.md) - איך למצוא את ערכי הקונפיגורציה
